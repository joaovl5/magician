wizard:
  root: # pane management settings
    backend: kitty
    nested: # nested, child pane management settings
      backend:
        name: tmux
        options:
          # pane numbers will start counting at 0 as per tmux's defaults
          # toggle this if your tmux configs make window indexes start at 1 instead of 0
          start_count_at_one: true

project:
  # name: my-project
  # description: This is my project and an optional field.
  dir: ~/code/my-project/ # default working directory root for commands and settings
  setup:
    project_code: # 1st kitty pane in this case
      # specifies we'll use nested logic for this window instead of just using it
      nested: true
      run: # default commands that will run for pane, or in this case every child pane
        - nvim .
      panes:
        backend: # 1st tmux tab in this case
          dir: ./backend/
          run: # runs *AFTER* parent commands (neovim in this case)
            - echo "You successfully exited neovim!"
        notifications-service:
          dir: ./notifications-service/ # uses project dir as basis
          run-before: # runs BEFORE parent commands
            - echo "Starting nvim in 1 second..."
            - sleep 1
        frontend:
          dir: ./frontend/
    project_run:
      nested: true
      panes:
        backend:
          dir: ./backend/
          run:
            - macro: python-activate-venv # special macro for detecting and activating virtual environment in directory
            - ./start_server.sh local

        notifications-service:
          dir: ./notifications-service/
          run:
            - macro: python-activate-venv
            - fastapi run api/app.py --port 8000 --host 0.0.0.0
        frontend:
          dir: ./frontend/
          run:
            - pnpm run start-local
